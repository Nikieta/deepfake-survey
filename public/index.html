<!DOCTYPE html>
<html>
<head>
  <title>Audio Deepfake Detection and Explainability Survey</title>
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: #f6f7fb;
      margin: 0;
      padding: 40px;
      color: #111827;
    }

    .container {
      max-width: 900px;
      margin: auto;
    }

    h1 {
      text-align: center;
      margin-bottom: 24px;
      font-weight: 700;
    }

    .card {
      background: #ffffff;
      border: 1px solid #e5e7eb;
      border-radius: 16px;
      padding: 28px 32px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    }

    input, select {
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #d1d5db;
      width: 100%;
      box-sizing: border-box;
      font-size: 14px;
    }

    label {
      font-size: 14px;
      font-weight: 600;
      color: #374151;
    }

    .required {
      color: red;
      margin-left: 4px;
    }

    .error {
      color: red;
      font-size: 13px;
      margin-top: 6px;
      display: none;
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-bottom: 18px;
    }

    .consent-wrapper {
      display: flex;
      justify-content: center;
      margin: 24px 0;
      width: 100%;
    }

    .consent-row {
      display: grid;
      grid-template-columns: 24px 1fr;
      align-items: start;
      gap: 14px;
      width: 85%;
      color: #4b5563;
      font-size: 14px;
      line-height: 1.4;
    }

    .button-wrapper {
      display: flex;
      justify-content: center;
      margin-top: 8px;
    }

    button {
      background: #4f46e5;
      color: white;
      border: none;
      padding: 10px 18px;
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
    }

    button:hover {
      background: #4338ca;
    }

    #consent {
      transform: scale(1.15);
      accent-color: #4f46e5;
      margin-top: 2px;
    }

  </style>
</head>

<body>

<div class="container">

<h1>Audio Deepfake Detection and Explainability Survey</h1>

<div class="card">
  <h2>Participant Details</h2>

  <div class="field">
    <label>Name <span class="required">*</span></label>
    <input type="text" id="name">
    <div class="error" id="nameErr">Name is required.</div>
  </div>

  <div class="field">
    <label>Age <span class="required">*</span></label>
    <input type="number" id="age" min="10" max="100">
    <div class="error" id="ageErr">Age is required.</div>
  </div>

  <div class="field">
    <label>Gender <span class="required">*</span></label>
    <select id="gender">
      <option value="">Select</option>
      <option>Male</option>
      <option>Female</option>
      <option>Other</option>
      <option>Prefer not to say</option>
    </select>
    <div class="error" id="genderErr">Please select your gender.</div>
  </div>

  <div class="field">
    <label>Hearing Impairment <span class="required">*</span></label>
    <select id="hearing">
      <option value="">Select</option>
      <option>No</option>
      <option>Mild</option>
      <option>Significant</option>
      <option>Prefer not to say</option>
    </select>
    <div class="error" id="hearingErr">Please select hearing status.</div>
  </div>

  <div class="field">
    <label>Technical Difficulty <span class="required">*</span></label>
    <select id="tech">
      <option value="">Select</option>
      <option>None</option>
      <option>Mild</option>
      <option>High</option>
    </select>
    <div class="error" id="techErr">Please select technical difficulty.</div>
  </div>

  <div class="consent-wrapper">
    <div class="consent-row">
      <input type="checkbox" id="consent">
      <span>
        I understand that my data will remain confidential and used only for research.
      </span>
    </div>
  </div>
  <div class="error" id="consentErr" style="text-align:center;">
    Please accept the consent to continue.
  </div>

  <div class="button-wrapper">
    <button onclick="proceed()">Start Survey</button>
  </div>
</div>

</div>

<script>
function clearErrors() {
  document.querySelectorAll(".error").forEach(e => e.style.display = "none");
}

function showError(id) {
  document.getElementById(id).style.display = "block";
}

function proceed() {
  clearErrors();

  let valid = true;

  const name = document.getElementById("name").value.trim();
  const age = document.getElementById("age").value.trim();
  const gender = document.getElementById("gender").value;
  const hearing = document.getElementById("hearing").value;
  const tech = document.getElementById("tech").value;
  const consent = document.getElementById("consent").checked;

  if (!name) { showError("nameErr"); valid = false; }
  if (!age) { showError("ageErr"); valid = false; }
  if (!gender) { showError("genderErr"); valid = false; }
  if (!hearing) { showError("hearingErr"); valid = false; }
  if (!tech) { showError("techErr"); valid = false; }
  if (!consent) { showError("consentErr"); valid = false; }

  if (!valid) return;

  localStorage.setItem("name", name);
  localStorage.setItem("age", age);
  localStorage.setItem("gender", gender);
  localStorage.setItem("hearing", hearing);
  localStorage.setItem("tech", tech);

  window.location.href = "instructions.html";

}
</script>

</body>
</html>

